Building Mscgen
===============

The Makefile in src provides a number of targets to build the executable image.
There is no autoconfig script yet, so you have to ensure that pre-requisites are
met and that the correct build is started.

Win32
-----

You will need Cygwin (from http://www.cygwin.com) and the following packages
installed via the Cygwin setup program:

 - gcc
 - gcc-mingw
 - make
 - flex
 - bison
 - binutils

Change to the src directory and type:

  $ make all-cygwin

This should produce mscgen.exe in the bin directory, together with a copy of
the supporting GD DLL (from this source package).  The binary will be a
Win32 native executable that does not rely on Cygwin or the Cygwin DLL.  

  Note: On Win2k systems, running symlinks under Cygwin can cause a Windows
        error whereby a dialog appears stating:
           "The NTVDM CPU has encountered an illegal instruction."
        If you get this, it is because the compiler is aliased via a symlink,
        most likely /usr/bin/cc -> gcc.  The easy workaround it to expliclity
        state which compiler to use in the following way:

        $ CC=gcc make all-cygwin


Linux
-----

You will need:

 - flex, bison and gcc installed
 - GD >= 2.0.22 libs installed (libgd-devel)
 - GD's dependencies, which are dependent on how it was configured, but
    will typically be a subset of the following:
      libpng libz libfreetype libm

GD can be obtained from http://www.libgd.org/ and will need to be downloaded
and installed, or a package, such as an RPM maybe used instead.
For RedHat and SuSE, the package gd-devel should be installed, which will
normally cause any dependent libraries to also be installed.

Change to the src directory and type:

  $ make

This should produce mscgen in the bin directory.

Solaris
-------

Building should be as for Linux, noting that GNU make should be installed and
used instead of Sun make (which will fail to parse the makefile):

  $ gmake

OSX
-----

You will need:

 - OSX Developer Tools installed (free download from Apple)
 - Required libraries installed (GD2, and it's prerequisites).
      (Tested via macports installed versions in /opt/local)

Change to the src directory and type:

  $ make all-osx

Installation
============

The built executable is placed in the bin directory.  You can then either
manually copy it to a location of your choosing, or execute the install
step:

  $ sudo make install

This will copy the executable and man page into /usr/bin and 
/usr/share/man/man1 respectively.  For a native windows build under
Cygwin, bgd.dll will also be copied to /usr/bin.

Bugs
====

An issue tracker is available at the following location:

  http://code.google.com/p/mscgen/issues/list
  
You may also email me directly at Michael.McTernan.2001@cs.bris.ac.uk.  


END OF FILE
